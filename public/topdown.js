!function t(n,r,e){function i(s,a){if(!r[s]){if(!n[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};n[s][0].call(l.exports,function(t){var r=n[s][1][t];return i(r?r:t)},l,l.exports,t,n,r,e)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)i(e[s]);return i}({1:[function(t,n,r){var e=t("./src/client/Render.js"),i=t("./src/client/Controls.js"),o=t("./src/client/Network.js"),s=t("./src/client/Client.js");s(e(document),i(window,document),o(window.location.protocol+"//"+window.location.host))},{"./src/client/Client.js":27,"./src/client/Controls.js":28,"./src/client/Network.js":29,"./src/client/Render.js":30}],2:[function(t,n,r){function e(t,n){if("function"!=typeof t)throw new TypeError(i);return n=o(void 0===n?t.length-1:+n||0,0),function(){for(var r=arguments,e=-1,i=o(r.length-n,0),s=Array(i);++e<i;)s[e]=r[n+e];switch(n){case 0:return t.call(this,s);case 1:return t.call(this,r[0],s);case 2:return t.call(this,r[0],r[1],s)}var a=Array(n+1);for(e=-1;++e<n;)a[e]=r[e];return a[n]=s,t.apply(this,a)}}var i="Expected a function",o=Math.max;n.exports=e},{}],3:[function(t,n,r){function e(t,n,r){for(var e=-1,o=i(n),s=o.length;++e<s;){var a=o[e],c=t[a],u=r(c,n[a],a,t,n);(u===u?u===c:c!==c)&&(void 0!==c||a in t)||(t[a]=u)}return t}var i=t("../object/keys");n.exports=e},{"../object/keys":23}],4:[function(t,n,r){function e(t,n){return null==n?t:i(n,o(n),t)}var i=t("./baseCopy"),o=t("../object/keys");n.exports=e},{"../object/keys":23,"./baseCopy":5}],5:[function(t,n,r){function e(t,n,r){r||(r={});for(var e=-1,i=n.length;++e<i;){var o=n[e];r[o]=t[o]}return r}n.exports=e},{}],6:[function(t,n,r){function e(t){return function(n){return null==n?void 0:n[t]}}n.exports=e},{}],7:[function(t,n,r){function e(t,n,r){if("function"!=typeof t)return i;if(void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,o){return t.call(n,r,e,i,o)};case 5:return function(r,e,i,o,s){return t.call(n,r,e,i,o,s)}}return function(){return t.apply(n,arguments)}}var i=t("../utility/identity");n.exports=e},{"../utility/identity":25}],8:[function(t,n,r){function e(t){return s(function(n,r){var e=-1,s=null==n?0:r.length,a=s>2?r[s-2]:void 0,c=s>2?r[2]:void 0,u=s>1?r[s-1]:void 0;for("function"==typeof a?(a=i(a,u,5),s-=2):(a="function"==typeof u?u:void 0,s-=a?1:0),c&&o(r[0],r[1],c)&&(a=3>s?void 0:a,s=1);++e<s;){var l=r[e];l&&t(n,l,a)}return n})}var i=t("./bindCallback"),o=t("./isIterateeCall"),s=t("../function/restParam");n.exports=e},{"../function/restParam":2,"./bindCallback":7,"./isIterateeCall":13}],9:[function(t,n,r){var e=t("./baseProperty"),i=e("length");n.exports=i},{"./baseProperty":6}],10:[function(t,n,r){function e(t,n){var r=null==t?void 0:t[n];return i(r)?r:void 0}var i=t("../lang/isNative");n.exports=e},{"../lang/isNative":20}],11:[function(t,n,r){function e(t){return null!=t&&o(i(t))}var i=t("./getLength"),o=t("./isLength");n.exports=e},{"./getLength":9,"./isLength":14}],12:[function(t,n,r){function e(t,n){return t="number"==typeof t||i.test(t)?+t:-1,n=null==n?o:n,t>-1&&t%1==0&&n>t}var i=/^\d+$/,o=9007199254740991;n.exports=e},{}],13:[function(t,n,r){function e(t,n,r){if(!s(r))return!1;var e=typeof n;if("number"==e?i(r)&&o(n,r.length):"string"==e&&n in r){var a=r[n];return t===t?t===a:a!==a}return!1}var i=t("./isArrayLike"),o=t("./isIndex"),s=t("../lang/isObject");n.exports=e},{"../lang/isObject":21,"./isArrayLike":11,"./isIndex":12}],14:[function(t,n,r){function e(t){return"number"==typeof t&&t>-1&&t%1==0&&i>=t}var i=9007199254740991;n.exports=e},{}],15:[function(t,n,r){function e(t){return!!t&&"object"==typeof t}n.exports=e},{}],16:[function(t,n,r){function e(t){for(var n=c(t),r=n.length,e=r&&t.length,u=!!e&&a(e)&&(o(t)||i(t)),f=-1,p=[];++f<r;){var y=n[f];(u&&s(y,e)||l.call(t,y))&&p.push(y)}return p}var i=t("../lang/isArguments"),o=t("../lang/isArray"),s=t("./isIndex"),a=t("./isLength"),c=t("../object/keysIn"),u=Object.prototype,l=u.hasOwnProperty;n.exports=e},{"../lang/isArguments":17,"../lang/isArray":18,"../object/keysIn":24,"./isIndex":12,"./isLength":14}],17:[function(t,n,r){function e(t){return o(t)&&i(t)&&a.call(t,"callee")&&!c.call(t,"callee")}var i=t("../internal/isArrayLike"),o=t("../internal/isObjectLike"),s=Object.prototype,a=s.hasOwnProperty,c=s.propertyIsEnumerable;n.exports=e},{"../internal/isArrayLike":11,"../internal/isObjectLike":15}],18:[function(t,n,r){var e=t("../internal/getNative"),i=t("../internal/isLength"),o=t("../internal/isObjectLike"),s="[object Array]",a=Object.prototype,c=a.toString,u=e(Array,"isArray"),l=u||function(t){return o(t)&&i(t.length)&&c.call(t)==s};n.exports=l},{"../internal/getNative":10,"../internal/isLength":14,"../internal/isObjectLike":15}],19:[function(t,n,r){function e(t){return i(t)&&a.call(t)==o}var i=t("./isObject"),o="[object Function]",s=Object.prototype,a=s.toString;n.exports=e},{"./isObject":21}],20:[function(t,n,r){function e(t){return null==t?!1:i(t)?l.test(c.call(t)):o(t)&&s.test(t)}var i=t("./isFunction"),o=t("../internal/isObjectLike"),s=/^\[object .+?Constructor\]$/,a=Object.prototype,c=Function.prototype.toString,u=a.hasOwnProperty,l=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=e},{"../internal/isObjectLike":15,"./isFunction":19}],21:[function(t,n,r){function e(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}n.exports=e},{}],22:[function(t,n,r){var e=t("../internal/assignWith"),i=t("../internal/baseAssign"),o=t("../internal/createAssigner"),s=o(function(t,n,r){return r?e(t,n,r):i(t,n)});n.exports=s},{"../internal/assignWith":3,"../internal/baseAssign":4,"../internal/createAssigner":8}],23:[function(t,n,r){var e=t("../internal/getNative"),i=t("../internal/isArrayLike"),o=t("../lang/isObject"),s=t("../internal/shimKeys"),a=e(Object,"keys"),c=a?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&i(t)?s(t):o(t)?a(t):[]}:s;n.exports=c},{"../internal/getNative":10,"../internal/isArrayLike":11,"../internal/shimKeys":16,"../lang/isObject":21}],24:[function(t,n,r){function e(t){if(null==t)return[];c(t)||(t=Object(t));var n=t.length;n=n&&a(n)&&(o(t)||i(t))&&n||0;for(var r=t.constructor,e=-1,u="function"==typeof r&&r.prototype===t,f=Array(n),p=n>0;++e<n;)f[e]=e+"";for(var y in t)p&&s(y,n)||"constructor"==y&&(u||!l.call(t,y))||f.push(y);return f}var i=t("../lang/isArguments"),o=t("../lang/isArray"),s=t("../internal/isIndex"),a=t("../internal/isLength"),c=t("../lang/isObject"),u=Object.prototype,l=u.hasOwnProperty;n.exports=e},{"../internal/isIndex":12,"../internal/isLength":14,"../lang/isArguments":17,"../lang/isArray":18,"../lang/isObject":21}],25:[function(t,n,r){function e(t){return t}n.exports=e},{}],26:[function(t,n,r){n.exports={lshift:16,space:32,up:38,down:40,left:37,right:39,q:81,w:87,e:69,r:82,t:0,y:0,u:0,i:76,o:79,p:80,a:65,s:83,d:68,f:0,g:0,h:0,j:0,k:0,l:76,z:90,x:88,c:67,v:0,b:0,n:0,m:0,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57}},{}],27:[function(t,n,r){var e=function(t,n,r){this.render=t,this.controls=n,this.network=r},i=function(t,n,r){return new e(t,n,r)};i.Constructor=e,n.exports=i},{}],28:[function(t,n,r){var e=t("lodash"),i=t("kefir"),o=t("../graphics/Point"),s=function(t,n){var r=this,s={};t.onkeydown=function(t){var n=r.config;(!n||e.contains(e.values(n),t.which))&&(s[t.which]=!0)},t.onkeyup=function(t){delete s[t.which]};var a=i.fromPoll(30,function(){return e.keys(s).map(function(t){return parseInt(t,10)})});this.__defineGetter__("keystream",function(){return a.skipDuplicates(function(t,n){return 0==e.xor(t,n).length}).throttle(300)});var c=o(0,0);t.onmousemove=function(t){c=o(t.offsetX,t.offsetY)},this.__defineGetter__("mouse",function(){return c}),n.oncontextmenu=e.constant(!1)};s.prototype.configure=function(t){this.config=t};var a=function(t,n){return new s(t,n)};a.Constructor=s,a.Keymap=t("../Keymap"),n.exports=a},{"../Keymap":26,"../graphics/Point":31,kefir:"kefir",lodash:"lodash"}],29:[function(t,n,r){var e=t("../util/Factory").Build,i=t("socket.io-client"),o=function(){this.socket=i.connect(this.server,this.config)};o.prototype.config={transports:["websocket"],"force new connection":!0};var s=e(o,function(t){var n={};return n.server=t,n});n.exports=s},{"../util/Factory":32,"socket.io-client":"socket.io-client"}],30:[function(t,n,r){var e=function(t){this.document=t};e.prototype.addLayer=function(t){var n=this.document.getElementsByTagName("body")[0],r=this.document.createElement("canvas");r.id=t,n.appendChild(r)};var i=function(t){return new e(t)};i.Constructor=e,n.exports=i},{}],31:[function(t,n,r){function e(t){return 0==t&&1/t!==Number.POSITIVE_INFINITY}var i=t("lodash"),o=t("../util/Factory").Build,s=function(){};s.prototype.x=0,s.prototype.y=0,s.prototype.shift=function(t,n){if(i.isNumber(t)&&i.isNumber(n))this.x+=t,this.y+=n;else{if(!(t instanceof s&&i.isUndefined(n)))throw new Error("Invalid arguments passed to point.shift");this.x+=t.x,this.y+=t.y}return this},s.prototype.invert=function(){return 0!==this.x&&(this.x*=-1),0!==this.y&&(this.y*=-1),this},s.prototype.rotate=function(t,n){if(i.isUndefined(n)){if(!i.isNumber(t))throw new Error("Invalid arguments passed to point.rotate");n=t,t=a(0,0)}if(!i.isNumber(n))throw new Error("Invalid arguments passed to point.rotate");if(i.isArray(t)&&(t=a(t)),!1==t instanceof s)throw new Error("Invalid arguments passed to point.rotate");var r=n*(Math.PI/180),e=Math.cos(r),o=Math.sin(r),c={};c.x=this.x-t.x,c.y=this.y-t.y;var u={x:c.x*e-c.y*o,y:c.x*o+c.y*e};this.x=Number((u.x+t.x).toFixed(12)),this.y=Number((u.y+t.y).toFixed(12)),this.clean()},s.prototype.clean=function(){e(this.x)&&(this.x=0),e(this.y)&&(this.y=0)};var a=o(s,function(t,n){if(arguments.length>2)throw new Error("Point was passed invalid arguments");if(i.isNumber(t)&&i.isUndefined(n))throw new Error("Point was passed invalid arguments");var r={};if(!n&&i.isArray(t)){if(2!=t.length)throw new Error("Point was passed invalid arguments");r.x=t[0],r.y=t[1]}else i.isNumber(t)&&i.isNumber(n)&&(r.x=t,r.y=n);return r});a.Clone=function(t){if(t instanceof s)return a(t.x,t.y);throw new Error("Point.Clone must be passed an instance of Point")},a.Add=function(t,n){return a.Clone(t).shift(n)},a.Invert=function(t){return a.Clone(t).invert()},n.exports=a},{"../util/Factory":32,lodash:"lodash"}],32:[function(t,n,r){var e=t("lodash/object/assign"),i=function(t,n){function r(){}var i=Object.create(t.prototype);r.prototype=i;var o=function(o){return i=Object.create(r.prototype),n&&(o=n.apply(null,arguments)),e(i,o||{}),t.apply(i),i};return o.Constructor=t,o.Created=function(t){return t instanceof o.Constructor},o};n.exports={Build:i}},{"lodash/object/assign":22}]},{},[1]);
//# sourceMappingURL=topdown.js.map